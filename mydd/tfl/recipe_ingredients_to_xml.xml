<transformalize>
  <processes>
    <add name="RecipeIngredientsToXml" mode="@(Mode)">
      <connections>
        <add name="input" provider="postgresql" port="5432" database="MyDD" user="postgres" password="devdev1!" />
        <add name="output" provider="internal" />
      </connections>
      <templates>
        <add name="ingredients" file="C:\Code\mydd\mydd\tfl\templates\ingredients.cshtml" engine="razor" content-type="html">
          <actions>
            <add action="copy" mode="first" to="C:\Code\mydd\mydd\tfl\output\ingredients.xml" />
            <add action="open" mode="first" file="C:\Code\mydd\mydd\tfl\output\ingredients.xml" />
          </actions>
        </add>
      </templates>
      <entities>
        <add name="app_ingredient" 
             version="modified"
             query="SELECT id,recipe_id,section,sequence,name,quantity,uom,created,modified FROM app_ingredient">
          <fields>
            <add name="id" type="int32" primary-key="true" />
            <add name="recipe_id" type="int" label="recipe id" />
            <add name="section" length="128" />
            <add name="sequence" type="short" sort="asc"/>
            <add name="name" length="255" />
            <add name="quantity" length="64" />
            <add name="uom" length="128" />
            <add name="created" type="datetime" />
            <add name="modified" type="datetime" />
          </fields>
        </add>
      </entities>
      <relationships/>
    </add>
  </processes>
</transformalize>