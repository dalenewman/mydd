<transformalize>
  
  <environments>
    <add name="one">
      <parameters>
        <add name="Mode" value="default" />
      </parameters>
    </add>
  </environments>
  
  <processes>
    <add name="ClassOrchard" mode="@(Mode)">

      <connections>
        <add name="input" database="TflMyDD" />
        <add name="output" provider="file" file="c:\temp\MyDD\class-output.xml" header="&lt;Orchard&gt;&lt;Recipe&gt;&lt;Name&gt;Generated by Transformalize&lt;/Name&gt;&lt;Author&gt;dalenewman&lt;/Author&gt;&lt;/Recipe&gt;&lt;Data&gt;" footer="&lt;/Data&gt;&lt;/Orchard&gt;" delimiter=" " />
      </connections>
      
      <templates>
        <add name="class" file="c:\Code\MyDD\mydd\tfl\templates\class.vtl" />
        <add name="blog_post" file="c:\Code\MyDD\mydd\tfl\templates\blog-post.vtl" />
      </templates>
      
      <actions>
        <add action="tfl" mode="@(Mode)" url="c:\Code\MyDD\mydd\tfl\class.xml?Mode=@(Mode)" before="true" after="false" />
        <add action="open" mode="first" file="c:\temp\MyDD\class-output.xml" />
      </actions>
      
      <entities>
        <add name="ClassStar" detect-changes="false">
          <fields>
            <add name="class_title" length="512" label="class title" output="false" />
            <add name="class_description" label="class description" output="false" />
            <add name="class_cost" type="decimal" precision="6" scale="2" label="class cost" output="false" />
            <add name="class_created" type="datetime" label="class created" output="false" />
            <add name="class_modified" type="datetime" label="class modified" output="false" />
            <add name="class_title_slug" length="512" label="title slug" output="false" />
            <add name="instructor_first" length="128" label="instructor first" output="false" />
            <add name="instructor_last" length="128" label="instructor last" output="false" />
            <add name="instructor_avatar" length="200" label="instructor avatar" output="false" />
            <add name="instructor_bio" label="instructor bio" output="false" />
            <add name="instructor_created" type="datetime" label="instructor created" output="false" />
            <add name="instructor_modified" type="datetime" label="instructor modified" output="false" />
            <add name="instructor_full_name" length="128" label="instructor full name" output="false" />
            <add name="tags" length="128" output="false" />
            <add name="recipes" length="4000" output="false" />
            <add name="schedule" length="4000" output="false"/>
            <add name="next_schedule_date" type="datetime" output="false" />
            <add name="next_schedule_date_utc" type="datetime" output="false" />
            <add name="prev_schedule_date_utc" type="datetime" output="false" />
            <add name="carousel_images" length="4000" output="false" />
            <add name="carousel_image_count" type="int" default="0" output="false" />
          </fields>
          <calculated-fields>
            <add name="content" length="max" t="velocity(class,*).htmlencode()" primary-key="true" output="false" />
            <add name="blog_post" length="max" t="velocity(blog_post,*)" primary-key="true" />
          </calculated-fields>
        </add>
      </entities>
      
      <relationships>
      </relationships>
    </add>
  </processes>
</transformalize>